all:
  vars:
    dns_domain: maison.fr
    dns_server_ip: 192.168.1.8
    cache_server_ip: 192.168.1.210
    apt_cache_server: "{{ cache_server_ip }}"
    apt_cache_port: 3142
    docker_registry_server: "{{ cache_server_ip }}"
    docker_registry_hostname: cache # hostname used by clients
    docker_registry_port: 4242
  children:
    cluster:
      children:
        controller:
          hosts:
            192.168.1.200:
              hostname: master
        workers:
          hosts:
            # 192.168.1.201:
            #   hostname: node1
            # 192.168.1.202:
            #   hostname: node2
            # 192.168.1.203:
            #   hostname: node3
            # 192.168.1.204:
            #   hostname: node4
    cacheserver: # apt-cache + docker registry
      hosts:
        192.168.1.210:
          hostname: cache
      vars:
        apt_cache_server: 127.0.0.1
        docker_registry_server: 127.0.0.1
    pi:
      children:
        nameserver:
      hosts:
        # 192.168.1.23:
        #   hostname: pi3
        192.168.1.43:
          hostname: pi4
          dns_proxy: true
          dns_root: true
          dns_www: true
    nameserver:
      hosts:
        192.168.1.8:
          hostname: ns
