all:
  vars:
    dns_domain: maison.fr
    dns_server_ip: 192.168.1.200
    cache_server_ip: 192.168.1.210
    apt_cache_server: "{{ cache_server_ip }}"
    apt_cache_port: 3142
    docker_registry_server: "{{ cache_server_ip }}"
    docker_registry_hostname: cache # hostname used by clients
    docker_registry_port: 4242
  children:
    cluster:
      children:
        controller:
          hosts:
            192.168.1.200:
              dns_root: true
              dns_proxy: true
              dns_www: true
              hostname: trapcodien
        pi:
          hosts:
            # 192.168.1.43:
            #   hostname: pi4
            192.168.1.25:
              hostname: pi3
        workers:
          hosts:
            192.168.1.201:
              hostname: node1
            # 192.168.1.202:
            #   hostname: node2
            # 192.168.1.203:
            #   hostname: node3
            # 192.168.1.204:
            #   hostname: node4
    cacheserver: # apt-cache + docker registry
      hosts:
        192.168.1.210:
          hostname: cache
      vars:
        apt_cache_server: 127.0.0.1
        docker_registry_server: 127.0.0.1
    nameserver:
      hosts:
        192.168.1.200: